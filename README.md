# PLC-Python based Lamp Control System  
Python의 pymodbus와 pygame 모듈을 활용한 PLC 램프제어 시스템  
485 컨버터 USB를 사용해 컴퓨터와 PLC간의 통신연결  
Python으로 코딩에 PLC 램프의 주소값을 적용하여 램프제어

## 노래 박자에 맞게 램프제어  
노래 We Will Rock You의 앞부분을 사용하였고  
Python 코딩을 통해 노래와 램프가 동시에 실행되게 코딩  
램프별 갯수별로 따로 함수로 지정하고 불러오는 방식을 사용했습니다  

## 진행중 어려웠던 점  
처음엔 write.coil 코드를 연달아 사용했지만  
Python 인터프리터 특성상 눈에 보일정도의 딜레이가 발생함  
이후 threading이라는 병렬 구조로 작성해보았지만  
time.sleep이 누적되면서 조금의 딜레이가 생기기 시작함  
최종적으로 timeline을 사용해 절대시간 제어를 통해 딜레이 문제해결  

## 의문점 및 개선점  
Audacity 라는 무료프로그램을 사용하여 음원을 1ms까지 세분하게 보고 절대시간값을 적었지만  
코드를 실행했을때 Audacity 프로그램에서 표시되어 있는 시간과 약 0.3초간의 차이가 있었음  
코딩을 할 때 이어폰을 끼고 반복해서 들으면서 코딩을 끝마쳤지만  
코딩을 마치고 시연당시 스피커로 실행시 또다시 0.2초 음원딜레이가 발생  
급하게 모든 코딩을 0.2초 딜레이 시켰지만 조금 부자연스러움  

## Python을 활용한 램프제어 동영상을 확인하세요!!!
